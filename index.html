<!DOCTYPE html>
<html>
    <head>
        <h1>Mario Kart Randomiser</h1>
    </head> 
    <body>
        
        <!-- Select random cup -->
        <h2>Random Cup Celection</h2>
        <button onclick="randCup()">Click here</button>
        <p id="cupChoice"></p>
        <p id="zero"></p>
        <br>
        
        <!-- Select random character -->
        <h2>Random Character Celection</h2>
        <label for="charDropDown">Choose a Weight Class:</label><br><br>
        <select id="charDropDown" name="charDropDown">
            <option>None</option>
            <option value="vl">Very Light</option>
            <option value="l">Light</option>
            <option value="m">Medium</option>
            <option value="mh">Medium Heavy</option>
            <option value="h">Heavy</option>
            <option value="vh">Very Heavy</option>
        </select>
        <button onclick="randChar()">Click here</button>
        <p id="charChoice"></p>
        <script>
        
        // Array of characters by weight class.
        var vLight = ["Mii", "Baby Daisy", "Baby Luigi", "Baby Mario", "Baby Peach", "Baby Rosalina", "Lemmy Koopa", "Dry Bones"]
        var light = ["Koopa Troopa", "Lakitu", "Larry Koopa", "Shy Guy", "Toad", "Toadette", "Wendy O. Koopa", "Isabelle", "Bowser Jr"]
        var med = ["Princess Daisy", "Princess Peach", "Yoshi", "Tanooki Mario", "Cat Peach", "Villager", "Inkling Boy", "Inkling Girl"]
        var medHeavy = ["Mario", "Luigi", "Ludwig von Koppa", "Iggy Koopa"]
        var heavy = ["Donkey Kong", "Metal Mario", "Pink Gold Peach", "Rosalina", "Roy Koopa", "Waluigi", "Link", "King Boo", "Gold Mario"]
        var vHeavy = ["Bowser", "Wario", "Morton Koopa Jr.", "Dry Bowser"]
        
        // Array of cups.
        var cups = ["Mushroom", "Flower", "Star", "Special", "Shell", "Banana", 
                    "Leaf", "Lightning", "Egg", "Triforce", "Crossing", "Bell"]
        
        // Choose random item from list.
        function random(x) {
            var choice = x[Math.floor(Math.random() * x.length)]
            return choice;
        }
        
        // Choose cup at random.
        var chosen = []
        function randCup () {
            if (!(chosen.length == 12)) { // Stops executing after each cup has been chosen. 
                var choice = random(cups)
                if (chosen.includes(choice)) {
                    randCup()
                } else {
                    chosen.push(choice)
                    document.getElementById("cupChoice").innerHTML = choice;
                    console.log("already picked: " + chosen);
                }
            } else {
                document.getElementById("zero").innerHTML = "There are no more cups left to choose";
            }
        }
        
        // Choose character from user-specified weight class.
        function randChar() {
            var select = document.getElementById('charDropDown')
            var value = select.options[select.selectedIndex].text
            if (value == "Very Light") {
                var x = random(vLight)
                document.getElementById("charChoice").innerHTML = x
            } else if (value == "Light") {
                var x = random(light)
                document.getElementById("charChoice").innerHTML = x
            } else if (value == "Medium") {
                var x = random(med)
                document.getElementById("charChoice").innerHTML = x
            } else if (value == "Medium Heavy") {
                var x = random(medHeavy)
                document.getElementById("charChoice").innerHTML = x
            } else if (value == "Heavy") {
                var x = random(heavy)
                document.getElementById("charChoice").innerHTML = x
            } else {
                var x = random(vHeavy)
                document.getElementById("charChoice").innerHTML = x
            }
        }
        </script>
    </body>
</html>